---
image: ppa.png
page-layout: article
title-block-banner: pp.jpg
date: "2023-12-22"
title: "Utilizando Dplyr | palmerpenguins"
author: "Gabriel Palucci Rosa"
toc: true
toc-title: "Table of Content"
categories:
  - Penguins
  - Dplyr
  - ggplot2
---

# Introduction

You can use the Dplyr package for manage and manipulate your basedata. For test some of the verbs we gonna use the palmerpenguins data. The first step, for use the some one the verbs, we need install the package in the library.

# Installing the package

First of all, we gonna use load some of packages that we will use in this tutorial.

```{r, warning=FALSE}

library(pacman)

p_load("tidyverse", "magrittr", "palmerpenguins")

library("tidyverse")
library("magrittr")
library('palmerpenguins')

```

The palmergenguins, is aa great dataset for data exploration & visualization, as an alternative to `iris`. The data were collected and made by Dr. Kristen Gorman and the Palmer Station, Antarctica LTER, a member of the Long Term Ecological Research Network.

```{r}
pinguim <- dplyr::as_tibble(palmerpenguins::penguins)
```

# Using Dplyr

## Rename

The first verbs we gonna use is the rename. We can view at the codeblock, the changes the name to português. It\`s a simple verb.

```{r}

pinguim <- pinguim %>% 
           rename(Especies = species, 
                  Ilha = island,
                  Tamanho_Bico_mm = bill_length_mm,
                  Espessura_Bico_mm= bill_depth_mm,
                  Nadadeira_mm = flipper_length_mm,
                  Peso_g = body_mass_g,
                  Sexo = sex,
                  Ano = year)
```

## Slice

We use for slice the base data using the lines

```{r, warning=FALSE}

pinguim %>% 
        slice(1:20)
```

## Select

We can use select for create a new data using some **columns**.

```{r paged.print=FALSE}

pinguim %>% dplyr::select(Especies, Ilha, Peso_g) %>%
            rmarkdown::paged_table(pinguim)

```

## Mutate

Utilizando o Mutate podemos adicionar **colunas** no nosso banco de dados a partir das variáveis ja existentes.

```{r}


pinguim %>% 
      dplyr::mutate(Tam.Esp = Tamanho_Bico_mm/Espessura_Bico_mm) %>%
      dplyr::select(Especies, Ilha, Tam.Esp) %>%
      rmarkdown::paged_table()

```

## Filter

Como o nome ja diz, o **Filter** tem como princípio a filtragemn do nosso base de dados com a utilização de paramétros como:

== Igual\
\> Maior\
\< Menor\
\>= Maior e igual\
\<= Menor e Igual\
!= Diferente\
%in% Se está dentro\
is.na Sem valores

Podemos adicionar condições como **,** para **e** e **\|** para **ou**.

```{r, }


pinguim %>% filter(Peso_g > 1000, Espessura_Bico_mm > 10) %>% 
             rmarkdown::paged_table()                 

```

## Relocate()

Utilizamos para relocar as **colunas** de posição em nossa base de dados

```{r}
  

pinguim %>% 
      relocate(Ilha, Sexo, Especies) %>%
      rmarkdown::paged_table()                 



```

## Arrange()

Organizar a nossa base de dados

```{r}

pinguim %>% 
      select(Especies, Ilha, Peso_g) %>% 
      arrange(desc(Peso_g)) %>%
      rmarkdown::paged_table()                 




```

## Group_by() / Summarise()

```{r, warning=FALSE}

pinguim %>% group_by(Ilha, Especies) %>%
            summarise(PesoMaximo = max(Peso_g), Media_Nadadeira = mean(Nadadeira_mm)) %>%
            rmarkdown::paged_table()                 

            
  

```

# Referência

[ ](https://github.com/allisonhorst/palmerpenguins)

![](https://www.tidyverse.org/images/hex-tidyverse.png){width="15%"} ![](https://magrittr.tidyverse.org/logo.png){width="15%"} ![](https://allisonhorst.github.io/palmerpenguins/reference/figures/logo.png){width="15%"}
